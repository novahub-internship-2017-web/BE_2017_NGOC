<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Home</title>
</head>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


    <table id="books-list" style="margin-top: 20px;" class="table table-bordered">
        <thead class="thead-dark">
            <tr>
                <th scope="col" id="col-id">id
                    <div class="arrow-group">
                        <div class="arrow-up" id="arrow-up-col-id"></div>
                        <div class="arrow-down" id="arrow-down-col-id"></div>
                    </div>
                </th>
                <th scope="col" id="col-title">Title
                    <div class="arrow-group">
                        <div class="arrow-up" id="arrow-up-col-title"></div>
                        <div class="arrow-down" id="arrow-down-col-title"></div>
                    </div>
                </div></th>
                <th scope="col" id="col-author">Author
                    <div class="arrow-group">
                        <div class="arrow-up" id="arrow-up-col-author"></div>
                        <div class="arrow-down" id="arrow-down-col-author"></div>
                    </div>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>sach 1</td>
                <td>tac gia 1</td>
            </tr>
            <tr>
                <td>2</td>
                <td>sach 2</td>
                <td>tac gia 2</td>
            </tr>
            <tr>
                <td>3</td>
                <td>sach 3</td>
                <td>tac gia 3</td>
            </tr>
            <tr>
                <td>4</td>
                <td>sach 4</td>
                <td>tac gia 4</td>
            </tr>
            <tr>
                <td>5</td>
                <td>sach 5</td>
                <td>tac gia 5</td>
            </tr>
        </tbody>
    </table>    

    <style type="text/css">
        .arrow-group{
            float: right;
            display: inherit;
            margin-top: 8px;
        }

        .arrow-up {
            width: 0; 
            height: 0; 
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;          
            border-bottom: 5px solid white;
            margin-top: -2px;
        }

        .arrow-down {
            width: 0; 
            height: 0; 
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid white;
            margin-top: 4px;
        }
    </style>

    <script type="text/javascript">
        const DEFAULT = 0 
        const ARROW_UP = 1;
        const ARROW_DOWN = 2;

        arrowColId = DEFAULT;
        arrowColTitle = DEFAULT;
        arrowColAuthor = DEFAULT;

        $("#col-id").click(function(){
            console.log("col-id");
            arrowColTitle = DEFAULT;
            arrowColAuthor = DEFAULT;
            arrowColId = chooseStateArrow(arrowColId);
            resetArrow();
        });

        $("#col-title").click(function(){
            console.log("col-title");
            arrowColId = DEFAULT;
            arrowColAuthor = DEFAULT;
            arrowColTitle = chooseStateArrow(arrowColTitle);    
            resetArrow();
        });

        $("#col-author").click(function(){
            console.log("col-author");
            arrowColId = DEFAULT;
            arrowColTitle = DEFAULT;
            arrowColAuthor = chooseStateArrow(arrowColAuthor);
            resetArrow();
        });

        function chooseStateArrow(state){
            if(state === DEFAULT)
                return ARROW_UP;

            if(state == ARROW_UP)
                return ARROW_DOWN;

            if(state == ARROW_DOWN)
                return ARROW_UP;
        }

        function resetArrow(column){

            if(arrowColId === DEFAULT || arrowColId === ARROW_UP)
                $("#arrow-up-col-id").show();
            else
                $("#arrow-up-col-id").hide();

            if(arrowColId === DEFAULT || arrowColId === ARROW_DOWN)
                $("#arrow-down-col-id").show();
            else
                $("#arrow-down-col-id").hide();


            if(arrowColTitle === DEFAULT || arrowColTitle === ARROW_UP)
                $("#arrow-up-col-title").show();
            else
                $("#arrow-up-col-title").hide();

            if(arrowColTitle === DEFAULT || arrowColTitle === ARROW_DOWN)
                $("#arrow-down-col-title").show();
            else
                $("#arrow-down-col-title").hide();


            if(arrowColAuthor === DEFAULT || arrowColAuthor === ARROW_UP)
                $("#arrow-up-col-author").show();
            else
                $("#arrow-up-col-author").hide();

            if(arrowColAuthor === DEFAULT || arrowColAuthor === ARROW_DOWN)
                $("#arrow-down-col-author").show();
            else
                $("#arrow-down-col-author").hide();
        }
    </script>
</body>
</html>